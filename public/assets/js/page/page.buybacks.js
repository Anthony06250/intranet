$(document).ready(function(){"use strict";let t=new Buyback;$("#Buybacks_starting_price, #Buybacks_increased_percent").on("change",function(){t.calcInterests()}),$("#Buybacks_increased_price").on("change",function(){t.calcPercent()}),$("#Buybacks_created_at, #Buybacks_duration").on("change",function(){t.calcDueDate()}),$("#Buybacks_customer").select2({minimumResultsForSearch:1})});class Buyback{constructor(){this.init()}init(){this.calcDueDate()}calcInterests(){var t=$("#Buybacks_starting_price").val().toNumber(),e=$("#Buybacks_increased_percent").val().toNumber()/100;$("#Buybacks_increased_price").val(t?(t+t*e).toCurrency():null)}calcPercent(){var t=$("#Buybacks_starting_price").val().toNumber(),e=$("#Buybacks_increased_price").val().toNumber(),t=(e-t)/t*100;$("#Buybacks_increased_percent").val((e?t:30).toCurrency())}calcDueDate(){var t=new Date($("#Buybacks_created_at").val()),e=parseInt($("#Buybacks_duration").val());isNaN(t)||isNaN(e)?$("#Buybacks_due_at").val(null):(t.setDate(t.getDate()+e),$("#Buybacks_due_at").val(t.toInputFormat()))}}Date.prototype.toInputFormat=function(){var t=this.getFullYear().toString(),e=(this.getMonth()+1).toString(),a=this.getDate().toString();return t+"-"+(e[1]?e:"0"+e[0])+"-"+(a[1]?a:"0"+a[0])};